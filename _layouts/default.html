<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    {% include head.html %}

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Scheherazade+New:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Your custom CSS (must be after Minima main.css) -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  </head>
  <body>
    {% include header.html %}
    <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode">
      ðŸŒ™
    </button>
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {% include footer.html %}

    <script>
  (function () {
    const root = document.documentElement;

    function applyTheme(theme) {
      const isDark = theme === "dark";
      root.classList.toggle("dark", isDark);
      const btn = document.getElementById("themeToggle");
      if (btn) btn.textContent = isDark ? "â˜€ï¸" : "ðŸŒ™";
    }

    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("themeToggle");
      if (!btn) return;

      const stored = localStorage.getItem("theme");
      if (stored === "dark" || stored === "light") {
        applyTheme(stored);
      } else {
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        applyTheme(prefersDark ? "dark" : "light");
      }

      btn.addEventListener("click", () => {
        const next = root.classList.contains("dark") ? "light" : "dark";
        localStorage.setItem("theme", next);
        applyTheme(next);
      });
    });
  })();
  </script>
  </body>
</html>
